[Промислові мережі та інтеграційні технології в автоматизованих системах](README.md). [2. ЗАГАЛЬНА ХАРАКТЕРИСТИКА ПРОМИСЛОВИХ МЕРЕЖ](2.md) 2.5. [Короткий огляд промислових мереж](2_5.md)

### 2.5.6. Мережі PROFIBUS

Детальніше про PROFIBUS Ви можете прочитати в [розділі 7](7.md).

2.5.6.1. Походження. PROFIBUS (Process Field Bus) з'явився завдяки зусиллям групи німецьких компаній: Bosch, Siemens та Klockner-Moller. На сьогоднішній день мережі PROFIBUS закріплені у міжнародних стандартах IEC 61158 та IEC 61784, просуванням та розвитком стандарту займається організація PNO (PROFIBUS Nutzerorganisation) та міжнародна всесвітня організація PI (PROFIBUS International), що гарантує відкритість мережі і зв’язок між пристроями різних виробників. 

PROFIBUS – це система, яка включає в себе 3 різні технології:

-     PROFIBUS DP (Decentralized Periphery);

-     PROFIBUS FMS (Fieldbus Message Specification);

-     PROFIBUS PA (for Process Automation)

#### 2.5.6.2. Фізичний рівень. 

Технології PROFIBUS-DP та PROFIBUS-FMS базуються на однакових реалізаціях фізичного та канального рівнів, тому можуть функціонувати на одній і тій самій мережі. Фізичний рівень може бути реалізований на RS-485 інтерфейсі або на оптоволоконному з’єднанні з бітовою швидкістю до 12 Мбіт/с та символьною передачею даних . 

Мережа PROFIBUS-PA використається в жорстких промислових умовах та функціонально-небезпечному виробництві. На фізичному та канальному рівнях PROFIBUS-PA базується на технології передачі MBP (IEC 61158-2 Тип 3), яка використовує манчестерське кодування бітів, модулюючи струм живлення пристроїв підключених до шини. Бітова швидкість фіксована і становить 31.25 КБіт/с. Фізично PROFIBUS-PA може підключатися як сегмент до мережі PROFIBUS-DP через спеціальні мости. 

#### 2.5.6.3. Канальний рівень. 

На канальному рівні PROFIBUS-DP та PROFIBUS-FMS використовується протокол FDL, метод доступу до шини – гібридний (між Ведучими – маркерне кільце, з розподіленою периферією – Ведучий-Ведений). Канальний рівень PROFIBUS-PA базується на технології передачі MBP.

#### 2.5.6.4. Прикладний рівень.

Протокол PROFIBUS-FMS базується на клієнт-серверному обміні повідомленнями і використовується для читання/запису даних великого обсягу на рівні контролерів. 

PROFIBUS-DP та PROFIBUS-РА призначені для обміну даними процесу в реальному часі центрального вузла з розподіленою периферією. Сервіси прикладного рівня в PROFIBUS-DP/РА реалізовані на рівні профілю. Умовно їх функціонування можна описати клієнт-серверною моделлю ідентифікованого обміну (Polling). Ідентифікований обмін реалізується через профілювання пристроїв, в якому визначене призначення, формат та обсяг даних конкретного пристрою, описаного через GSD-файли. При конфігуруванні системи Ведучого, вказується обсяг та призначення буферу вводу/виводу для кожного Веденого PROFIBUS-DP/РА. Ведучий циклічно або періодично опитує кожний Ведений вузол, передаючи йому дані для виводу та забираючи вхідні дані (cервіс Data-Exchange). Розвиток технології PROFIBUS-DP привів до появи нових можливостей, зокрема ациклічного обміну ідентифікованими даними та ідентифікованого обміну Видавець-Підписувач і т.д. На сьогоднішній день існують три версії протоколу PROFIBUS-DP: DP-V0 (циклічний обмін ідентифікованими даними Data-Exchange), DP-V1 (+ациклічний обмін ідентифікованими даними), DP-V2 (+обмін Видавець-Підписувач)  

Таблиця 2.16. Характеристики мереж PROFIBUS.

| OSI        | характеристика | PROFIBUS FMS                                                 | PROFIBUS DP                                                  | PROFIBUS PA                                                  |
| ---------- | -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
|            | NetArea        | контролерний рівень                                          | рівень датчиків                                              | рівень датчиків                                              |
| прикладний | AppService     | FMS - ациклічний доступ до даних  процесу іншого вузла       | Data_Exchange –  циклічно-періодичний обмін даними процесу між центральним вузлом та  розподіленою периферією; DP-V1 - ациклічний обмін даними процесу між центральним  вузлом та розподіленою периферією; DP-V2 - широкомовна розсилка значень даних  Ведений-Ведені; управління станом вузлів; діагностичні сервіси;  конфігурування вузла; функції резервування;+ | Data_Exchange –  циклічно-періодичний обмін даними процесу між центральним вузлом та  розподіленою периферією; DP-V1 - ациклічний обмін даними процесу між центральним  вузлом та розподіленою периферією; DP-V2 - широкомовна розсилка значень даних  Ведений-Ведені; управління станом вузлів; діагностичні сервіси;  конфігурування вузла; функції резервування;+ |
| прикладний | AppModel       | клієнт-серверна модель обміну повідомленнями;                | клієнт-серверна  модель ідентифікованого обміну для DP Data-Exchange (Polling)++;  модель Видавець-Підписувач ідентифікованого обміну для DP-V2; + | клієнт-серверна  модель ідентифікованого обміну для DP Data-Exchange (Polling)++;  модель Видавець-Підписувач ідентифікованого обміну для DP-V2; + |
| прикладний | AppProfile     | профілі для FMS пристроїв; описується GSD файлом             | профілі по області застосування;  великий перелік профілів пристроїв; описується GSD файлом | профілі по області застосування;  великий перелік профілів пристроїв; описується GSD файлом |
| прикладний | AppProcData    |                                                              | DP Data_Exchange: (244  Input  + 244 Output) байт на Slave   | DP Data_Exchange: (244  Input  + 244 Output) байт на Slave   |
| прикладний | AppResolut     |                                                              | залежить від конфігурації  мережі;   орієнтовно 3 мс/ 10+(2  вх.байт+2 вих.байт) при 1.5 Мбіт/с+++  орієнтовно 0.8 мс/ 10+(2 вх.байт+2 вих.байт) при 12 Мбіт/с+++ | залежить від конфігурації  мережі;   орієнтовно 3 мс/ 10+(2  вх.байт+2 вих.байт) при 1.5 Мбіт/с+++  орієнтовно 0.8 мс/ 10+(2 вх.байт+2 вих.байт) при 12 Мбіт/с+++ |
| канальний  | ChAddModel     | Відправник-Адресат-msg, всі вузли  адресуються 1-126, 127 - широкомовна; | Відправник-Адресат-msg, всі вузли  адресуються 1-126, 127 - широкомовна; | з боку DP видимий як  модульний Ведений пристрій             |
| канальний  | ChAccess       | гібридний: Ведучий-Ведений + маркерний доступ між Ведучими   | гібридний: Ведучий-Ведений + маркерний доступ між Ведучими   | Ведучий-Ведений;                                             |
| канальний  | ChChecksum     | побітове AND                                                 | побітове AND                                                 | побітове AND                                                 |
| фізичний   | PhInterface    | RS-485, IR, оптоволокно,  радіохвилі                         | RS-485, IR, оптоволокно,  радіохвилі                         | синхронний  інтерфейс, модуляція постійної напруги, манчестерське кодування |
| фізичний   | PhMedia        | для RS-485 – екранована вита  пара, стандарти кабелів A та B; для оптичного зв’язку – пластикові, скляні,  PCF | для RS-485 – екранована вита  пара, стандарти кабелів A та B; для оптичного зв’язку – пластикові, скляні,  PCF | екранована вита пара типів A-D;                              |
| фізичний   | PhTopology     | шина, деревовидна через повторювачі/мости;                   | шина, деревовидна через повторювачі/мости;                   | шина/дерево                                                  |
| фізичний   | PhLdrop        | для  RS-485 допускається тільки з використанням активних з’єднувачів; | для  RS-485 допускається тільки з використанням активних з’єднувачів; | <30 м, PhLength= Σ PhLdrop+Ltrunk                            |
| фізичний   | PhBaudRate     | від  9600 кБіт/с до 12 Мбіт/с                                | від  9600 кБіт/с до 12 Мбіт/с                                | 31.25  КБіт/с                                                |
| фізичний   | PhSegment      | сегментація з використанням репітерів/мостів,  сегментних з’єднувачів | сегментація з використанням репітерів/мостів,  сегментних з’єднувачів | сегментація з використанням репітерів/мостів,  сегментних з’єднувачів |
| фізичний   | PhNodes        | 32                                                           | 32                                                           | 32                                                           |
| фізичний   | PhLength       | до 1000 м (при 187 кБіт/с),  термінатор 390 Ом в обох кінцях лінії | до 1000 м (при 187 кБіт/с),  термінатор 390 Ом в обох кінцях лінії | 1900 м, термінатор (100  Ом+1мкФ) в обох кінцях лінії        |
| фізичний   | PhSupply       | не  передбачено                                              | не  передбачено                                              | до 30 В по інформаційній парі проводів                       |

\+ - в офіційних документах PROFIBUS-DP прикладні сервіси та їх функціонування визначаються профілем пристрою;

++ - модель умовна, в офіційних документах PROFIBUS-DP прикладні сервіси та їх функціонування визначаються профілем пристрою; 

+++ - дані взяті з PNO Profibus Description, для 10 пристроїв на 2 вхідні та 2 вихідні байти 



<-- 2.5.5. [Мережа LonWorks](2_5_5.md) 

--> 2.5.7. [HART-протокол](2_5_7.md) 